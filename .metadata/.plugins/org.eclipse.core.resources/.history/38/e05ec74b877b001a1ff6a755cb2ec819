package com.raptor.mcloottable.tests

import java.nio.file.Files
import java.nio.file.Paths
import java.nio.file.StandardOpenOption
import java.util.Map
import java.util.Set
import com.raptor.mcloottable.util.Property

import static com.raptor.mcloottable.util.MinecraftData.*

class GenerateMinecraftDataFiles {
    
    static val DIR = Paths.get('''C:\Users\flyin\Documents\Xtext\com.raptor.mcloot\src\com\raptor\mcloottable\util\''')
    
    def static void main(String[] args) {
        
        
        
    }
    
    def generateBlockStates(Map<String, Map<String, ? extends Property>> data, String outputFileName) {
        
    }
    
    def generate(Map<String, Set<String>> elements, String outputFileName) {
        Files.write(DIR.resolve(outputFileName), elements.entrySet.map[
            '''
            «key»
                «FOR v : value»
                    «v»«ENDFOR»'''
        ])
    }
    
    def generate(Set<String> elements, String outputFileName) {
        Files.write(DIR.resolve(outputFileName), elements, StandardOpenOption.TRUNCATE_EXISTING)
    }
    
}
